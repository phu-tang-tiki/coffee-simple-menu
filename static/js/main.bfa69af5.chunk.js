(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),u=(n(13),n(1)),l=(n(14),n(2)),i=n.n(l),s=n(3),m="https://coffeeshop-backend-production.herokuapp.com",p=function(e){var t=e.updateToken,n=Object(a.useState)(null),c=Object(u.a)(n,2),o=c[0],l=c[1],p=Object(a.useState)(null),d=Object(u.a)(p,2),f=d[0],h=d[1],b=function(){var e=Object(s.a)(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/user/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:o,password:f})});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,t(a.tokenData),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:function(e){b().then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),e.preventDefault()}},r.a.createElement("input",{type:"text",id:"username",name:"username",onChange:function(e){return l(e.target.value)},value:o}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password",name:"password",onChange:function(e){return h(e.target.value)},value:f}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Login")))},d=n(4),f=n(7),h=n.n(f),b=(n(25),{header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}}),E=function(e){var t=e.token,n=Object(a.useState)([]),c=Object(u.a)(n,2),o=c[0],l=c[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),E=f[0],v=f[1],g=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/menu/add-menus"),{method:"POST",headers:{authentication:t,"Content-Type":"application/json"},body:JSON.stringify(Object(d.map)((function(e){return{name:e.mon,category:e.category,price:Object(d.toNumber)(e.gia),isEnable:!0}}),o))});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(h.a,{cssClass:"react-csv-input",label:E,onFileLoaded:l,parserOptions:b})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){e.preventDefault(),g().then((function(e){v("update success")})).catch((function(e){v("update error")}))}},"Confirm"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Mon"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"price"))),r.a.createElement("tbody",null,Object(d.map)((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.mon),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.gia))}),o)))))},v=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1];return n?r.a.createElement("div",null,r.a.createElement(E,{token:n})):r.a.createElement(p,{updateToken:c})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(26)}},[[8,1,2]]]);
//# sourceMappingURL=main.bfa69af5.chunk.js.map